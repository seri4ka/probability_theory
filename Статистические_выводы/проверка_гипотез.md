# Проверка гипотез

**Проверка гипотез** — это метод статистического вывода, который позволяет принять или отклонить предположение (гипотезу) о характеристиках генеральной совокупности на основе выборочных данных. Проверка гипотез широко используется в научных исследованиях, инженерии, экономике и других областях.

## Основные понятия

1. **Нулевая гипотеза (H₀)**: Основное предположение, которое проверяется. Обычно нулевая гипотеза представляет "отсутствие эффекта" или "равенство параметров". Например, \( H_0 \): "Средний доход мужчин равен среднему доходу женщин".

2. **Альтернативная гипотеза (H₁)**: Гипотеза, противоположная нулевой, которая утверждает, что параметр или эффект существует. Например, \( H_1 \): "Средний доход мужчин не равен среднему доходу женщин".

3. **Уровень значимости (\( \alpha \))**: Заранее выбранная вероятность допустимой ошибки первого рода (ошибки принятия альтернативной гипотезы, когда нулевая гипотеза верна). Часто выбирается \( \alpha = 0.05 \) или \( \alpha = 0.01 \).

4. **Статистический критерий**: Числовая характеристика выборки, по которой принимается решение о гипотезе. Критерий может быть \( z \)-статистикой, \( t \)-статистикой, \( \chi^2 \)-статистикой и т.д.

5. **Критическая область**: Область значений статистического критерия, при которых нулевая гипотеза отвергается. Определяется на основе уровня значимости.

## Процесс проверки гипотез

Проверка гипотез включает следующие шаги:

1. **Формулировка гипотез**: Определите нулевую и альтернативную гипотезы.

2. **Выбор уровня значимости \( \alpha \)**: Установите допустимую вероятность ошибки первого рода.

3. **Выбор статистического критерия**: Определите подходящий тест (например, \( z \)-тест, \( t \)-тест) в зависимости от характера данных и гипотезы.

4. **Вычисление значения статистики**: На основе выборочных данных рассчитайте значение статистики.

5. **Принятие или отклонение гипотезы**: Сравните рассчитанное значение статистики с критическим значением или используйте p-значение для принятия решения. Если значение статистики попадает в критическую область, нулевая гипотеза отклоняется.

## Ошибки первого и второго рода

- **Ошибка первого рода (α-ошибка)**: Отвергаем нулевую гипотезу, когда она верна. Вероятность ошибки первого рода обозначается уровнем значимости \( \alpha \).
  
- **Ошибка второго рода (β-ошибка)**: Принимаем нулевую гипотезу, когда она неверна. Вероятность ошибки второго рода обозначается \( \beta \). Мощность теста \( 1 - \beta \) показывает вероятность правильного отклонения нулевой гипотезы.

## P-значение

**P-значение** — это вероятность наблюдать статистику, равную или более экстремальную, чем текущая, при условии, что нулевая гипотеза верна. Если p-значение меньше уровня значимости \( \alpha \), то нулевая гипотеза отклоняется. Низкое p-значение указывает на то, что наблюдаемые данные маловероятны при условии истинности нулевой гипотезы.

### Пример

Рассмотрим проверку гипотезы о средней температуре тела. Предположим, что мы проверяем гипотезу:
- \( H_0 \): Средняя температура тела равна 36.6°C.
- \( H_1 \): Средняя температура тела не равна 36.6°C.

Мы выбираем уровень значимости \( \alpha = 0.05 \), собираем данные и рассчитываем статистику (например, t-статистику). Если полученное p-значение меньше 0.05, мы отклоняем нулевую гипотезу и заключаем, что средняя температура отличается от 36.6°C.

## Основные статистические критерии

- **Z-тест**: Используется для проверки гипотез о средних при известной дисперсии.
- **T-тест**: Применяется для проверки гипотез о средних при неизвестной дисперсии и малых выборках.
- **Критерий χ² (хи-квадрат)**: Используется для проверки гипотез о дисперсии или о связи между категориями.
- **ANOVA**: Применяется для проверки гипотез о равенстве нескольких средних значений.


## Примеры проверки гипотез

### Пример 1: Проверка гипотезы с использованием Z-теста

Предположим, что исследователь хочет проверить гипотезу о средней высоте мужчин в определенном регионе, где известно, что стандартное отклонение равно 5 см. Он предполагает, что средний рост мужчин равен 175 см. Исследователь берет выборку из 50 мужчин, и средний рост в выборке составляет 176.5 см.

1. **Формулировка гипотез**:
   - Нулевая гипотеза: \( H_0 \): Средний рост мужчин равен 175 см (\( \mu = 175 \)).
   - Альтернативная гипотеза: \( H_1 \): Средний рост мужчин не равен 175 см (\( \mu \neq 175 \)).

2. **Выбор уровня значимости**: Пусть уровень значимости \( \alpha = 0.05 \).

3. **Выбор статистического критерия**: Так как стандартное отклонение известно и выборка достаточно велика, используем z-тест.

4. **Вычисление Z-статистики**:
   - Среднее значение выборки: \( \bar{X} = 176.5 \)
   - Известное стандартное отклонение: \( \sigma = 5 \)
   - Размер выборки: \( n = 50 \)
   
   Z-статистика рассчитывается по формуле:
   \[
   Z = \frac{\bar{X} - \mu}{\sigma / \sqrt{n}} = \frac{176.5 - 175}{5 / \sqrt{50}} = \frac{1.5}{0.707} \approx 2.12
   \]

5. **Принятие или отклонение гипотезы**:
   - Для двухстороннего теста при уровне значимости \( \alpha = 0.05 \), критические значения Z-статистики — ±1.96.
   - Поскольку \( |Z| = 2.12 \) > 1.96, мы отклоняем нулевую гипотезу.

**Вывод**: С вероятностью ошибки 5% можно заключить, что средний рост мужчин отличается от 175 см.

---

### Пример 2: Проверка гипотезы с использованием T-теста

Предположим, что компания считает, что среднее время обработки запроса на их сервисе составляет 30 минут. Компания хочет проверить, не отличается ли это время на практике. Были взяты данные по времени обработки 10 случайных запросов: 28, 32, 29, 31, 33, 30, 27, 34, 29, 30.

1. **Формулировка гипотез**:
   - Нулевая гипотеза: \( H_0 \): Среднее время обработки запроса равно 30 минутам (\( \mu = 30 \)).
   - Альтернативная гипотеза: \( H_1 \): Среднее время обработки запроса не равно 30 минутам (\( \mu \neq 30 \)).

2. **Выбор уровня значимости**: Пусть уровень значимости \( \alpha = 0.05 \).

3. **Выбор статистического критерия**: Поскольку дисперсия неизвестна и размер выборки мал, используем t-тест.

4. **Расчет T-статистики**:
   - Среднее значение выборки:
     \[
     \bar{X} = \frac{28 + 32 + 29 + 31 + 33 + 30 + 27 + 34 + 29 + 30}{10} = 30.3
     \]
   - Стандартное отклонение выборки \( s \):
     \[
     s = \sqrt{\frac{\sum_{i=1}^{10} (X_i - \bar{X})^2}{n - 1}} \approx 2.45
     \]
   - Размер выборки: \( n = 10 \)
   
   T-статистика рассчитывается по формуле:
   \[
   T = \frac{\bar{X} - \mu}{s / \sqrt{n}} = \frac{30.3 - 30}{2.45 / \sqrt{10}} = \frac{0.3}{0.775} \approx 0.39
   \]

5. **Принятие или отклонение гипотезы**:
   - При уровне значимости \( \alpha = 0.05 \) и \( n - 1 = 9 \) степенях свободы, критическое значение T-статистики для двухстороннего теста — ±2.262.
   - Поскольку \( |T| = 0.39 \) < 2.262, мы **не отклоняем нулевую гипотезу**.

**Вывод**: На уровне значимости 5% нет оснований полагать, что среднее время обработки запроса отличается от 30 минут.


## Заключение

Проверка гипотез — это основополагающий инструмент статистического анализа, который позволяет принимать обоснованные решения на основе данных. Понимание ошибок первого и второго рода, p-значения и уровня значимости позволяет оценить достоверность результатов и минимизировать риски неверных выводов.
